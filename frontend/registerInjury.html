<!DOCTYPE html>
<html lang="sr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
    <title>Prijava Povrede</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/injury.css" />
  </head>

  <body>
    <button onclick="history.back()" class="btn-secondary back-btn">
      Nazad
    </button>

    <div class="container">
      <h1 class="mb-4 text-center">Prijava povrede</h1>

      <form id="injuryForm" enctype="multipart/form-data">
        <!-- Izbor skijaške staze -->
        <div class="mb-3">
          <label for="ski_run" class="form-label">Skijaška staza:</label>
          <select class="form-select" id="ski_run" name="ski_run" required>
            <option value="" disabled selected>Izaberite</option>
            <option value="Staza 1">Staza 1</option>
            <option value="Staza 2">Staza 2</option>
            <option value="Staza 3">Staza 3</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="name" class="form-label">Ime i prezime pacienta:</label>
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            required
          />
        </div>

        <div class="mb-3">
          <label for="birth_date" class="form-label">Datum rođenja:</label>
          <input
            type="date"
            class="form-control"
            id="birth_date"
            name="birth_date"
            required
          />
        </div>

        <div class="mb-3">
          <label for="ski_card_photo" class="form-label"
            >Fotografija skijaške karte:</label
          >
          <input
            type="file"
            class="form-control"
            id="ski_card_photo"
            name="ski_card_photo"
            accept="image/*"
            capture="camera"
            required
          />
        </div>

        <h3 class="text-center">Povređeni:</h3>

        <div class="injury-points-container">
          <!-- Desna Strana: Slovo R i izbor mesta povrede -->
          <div class="left-column">
            <div class="text-center letter">D</div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Ključna kost"
                id="claviculeR"
              />
              <label class="form-check-label" for="claviculeR"
                >Ključna kost</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Rame"
                id="shoulderR"
              />
              <label class="form-check-label" for="shoulderR">Rame</label>
            </div>
            <!-- Dodajte još checkbox opcija ovde -->

            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Nadlaktica"
                id="upperarmR"
              />
              <label class="form-check-label" for="upperarmR"
                >Nadlaktica</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Lakat"
                id="elbowR"
              />
              <label class="form-check-label" for="elbowR">Lakat</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Podlaktica"
                id="forearmR"
              />
              <label class="form-check-label" for="forearmR">Podlaktica</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Šaka"
                id="handR"
              />
              <label class="form-check-label" for="handR">Šaka</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Kuk"
                id="hipR"
              />
              <label class="form-check-label" for="hipR">Kuk</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Nadkolenica"
                id="upperlegR"
              />
              <label class="form-check-label" for="upperlegR"
                >Nadkolenica</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Koleno"
                id="kneeR"
              />
              <label class="form-check-label" for="kneeR">Koleno</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Podkolenica"
                id="lowerlegR"
              />
              <label class="form-check-label" for="lowerlegR"
                >Podkolenica</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Stopalo"
                id="feetR"
              />
              <label class="form-check-label" for="feetR">Stopalo</label>
            </div>
          </div>

          <!-- Sredina: PNG slika i centrirani izbori -->
          <div class="center-column text-center">
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Glava"
                id="head"
              />
              <label class="form-check-label" for="head">Glava</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Vrat"
                id="neck"
              />
              <label class="form-check-label" for="neck">Vrat</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Grudni Koš"
                id="thorax"
              />
              <label class="form-check-label" for="thorax">Grudni Koš</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Stomak"
                id="abdomen"
              />
              <label class="form-check-label" for="abdomen">Stomak</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Kičma"
                id="spine"
              />
              <label class="form-check-label" for="spine">Kičma</label>
            </div>
            <img
              src="./images/human-body-frontal.png"
              alt="Dijagram Tela"
              class="body-diagram"
            />
          </div>

          <!-- Leva Strana: Slovo L i izbor mesta povrede -->
          <div class="right-column">
            <div class="text-center letter">L</div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Ključna kost"
                id="claviculeL"
              />
              <label class="form-check-label" for="claviculeL"
                >Ključna kost</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Rame"
                id="shoulderL"
              />
              <label class="form-check-label" for="shoulderL">Rame</label>
            </div>
            <!-- Dodajte još checkbox opcija ovde -->
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Nadlaktica"
                id="upperarmL"
              />
              <label class="form-check-label" for="upperarmL"
                >Nadlaktica</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Lakat"
                id="elbowL"
              />
              <label class="form-check-label" for="elbowL">Lakat</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Podlaktica"
                id="forearmL"
              />
              <label class="form-check-label" for="forearmL">Podlaktica</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Šaka"
                id="handL"
              />
              <label class="form-check-label" for="handL">Šaka</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Kuk"
                id="hipL"
              />
              <label class="form-check-label" for="hipL">Kuk</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Nadkolenica"
                id="upperlegL"
              />
              <label class="form-check-label" for="upperlegL"
                >Nadkolenica</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Koleno"
                id="kneeL"
              />
              <label class="form-check-label" for="kneeL">Koleno</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Podkolenica"
                id="lowerlegL"
              />
              <label class="form-check-label" for="lowerlegL"
                >Podkolenica</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input injury-point"
                name="injury_points"
                value="Stopalo"
                id="feetL"
              />
              <label class="form-check-label" for="feetL">Stopalo</label>
            </div>
          </div>
        </div>

        <h3>Tip povrede:</h3>
            <div id="injury-type-dropdowns"></div>
            <div class="mb-3">
                <label for="medical_comment" class="form-label">Komentar:</label>
                <textarea class="form-control" id="medical_comment" name="medical_comment" required></textarea>

                <button type="submit" id="submitBtn" class="btn btn-primary mt-3">Pošalji povredu</button>

                <!-- Signature Pad Modal -->
                <div class="modal fade" id="signatureModal" tabindex="-1" aria-labelledby="signatureModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="signatureModalLabel">Podpiši ovde</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <canvas id="signaturePad" class="signature-pad"></canvas>
                                <button type="button" id="clear-btn" class="btn btn-warning mt-3">Izbriši podpis</button>
                            </div>
                            <div class="modal-footer">
                                <button type="button" id="confirmSignature" class="btn btn-primary" data-bs-dismiss="modal">Potvrdi</button>
                            </div>
                        </div>
                    </div>
                </div>

        
      </form>
    </div>

    <!-- Firebase and JS Configuration -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <!-- SignaturePad library -->
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
    <script src="javascript/injuries.js"></script>
</body>
</html>
